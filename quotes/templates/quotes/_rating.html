<div id="rating-{{ quote.id }}" hx-target="this" hx-swap="outerHTML" class="flex items-center gap-2">
  <form method="post" action="{% url 'vote' quote.id %}" hx-post="{% url 'vote' quote.id %}">
    {% csrf_token %}

    {% with vv=voted_value|default:0 %}

      <button type="submit" name="value" value="1"
              {% if vv != 0 %}disabled{% endif %}
              class="px-3 py-1.5 rounded-lg transition
                     {% if vv == 1 %}bg-emerald-700 cursor-not-allowed{% else %}bg-emerald-600 hover:bg-emerald-500{% endif %}">
        👍 <span class="font-semibold">{{ quote.likes }}</span>
      </button>

      <button type="submit" name="value" value="-1"
              {% if vv != 0 %}disabled{% endif %}
              class="px-3 py-1.5 rounded-lg transition
                     {% if vv == -1 %}bg-rose-700 cursor-not-allowed{% else %}bg-rose-600 hover:bg-rose-500{% endif %}">
        👎 <span class="font-semibold">{{ quote.dislikes }}</span>
      </button>

    {% endwith %}
  </form>
</div>
